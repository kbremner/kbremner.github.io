(function(e){e.fn.stickySidebar=function(t){var n=e.extend({headerSelector:"header",navSelector:"nav",contentSelector:"#content",footerSelector:"footer",sidebarTopMargin:20,footerThreshold:40},t);var r=function(){var t=e(this);var r=e(window).height();var i=e(window).width();var s=e(document).height();var o=e(n.headerSelector).outerHeight();var u=e(n.navSelector).outerHeight();var a=t.outerHeight();var f=e(n.contentSelector).outerHeight();var l=e(n.footerSelector).outerHeight();var c=e(window).scrollTop();var h=f-a;var p=o+u;var d=s-(a+l+n.footerThreshold);if(f>a&&r>a){if(c<p){t.removeClass("sticky")}else if(c>=p&&c<d){t.addClass("sticky").css("top",n.sidebarTopMargin)}else{var v=d-c;t.addClass("sticky").css("top",v)}}};return this.each(function(){e(window).on("scroll",e.proxy(r,this));e(window).on("resize",e.proxy(r,this));e.proxy(r,this)()})}})(jQuery)